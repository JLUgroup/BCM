fail in macosx

running build
running config_cc
unifing config_cc, config, build_clib, build_ext, build commands --compiler options
running config_fc
unifing config_fc, config, build_clib, build_ext, build commands --fcompiler options
running build_src
build_src
building extension "fbcm2" sources
f2py options: []
f2py:> /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.c
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7
Reading fortran codes...
	Reading file 'BCMfunc.f90' (format:free)
	Reading file 'spherical.f90' (format:free)
	Reading file 'car2sphe.f90' (format:free)
Post-processing...
	Block: fbcm2
			Block: bcm
			Block: dist_bcm
			Block: spherical
			Block: car2sphe
Post-processing (stage 2)...
Building modules...
	Building module "fbcm2"...
		Constructing wrapper function "bcm"...
		  q = bcm(nele,natom,tau0,lat_matrix,ele_num)
		Constructing wrapper function "dist_bcm"...
		  dist_bcm(distance,q1,q2,[nele])
		Constructing wrapper function "spherical"...
		  spherical(l,m,angle1,angle2,y)
		Constructing wrapper function "car2sphe"...
		  car2sphe(x,y,z,r,theta,psi)
	Wrote C/API module "fbcm2" to file "/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.c"
  adding '/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fortranobject.c' to sources.
  adding '/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7' to include_dirs.
copying /Users/xiejiahao/anaconda3/envs/py2/lib/python2.7/site-packages/numpy/f2py/src/fortranobject.c -> /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7
copying /Users/xiejiahao/anaconda3/envs/py2/lib/python2.7/site-packages/numpy/f2py/src/fortranobject.h -> /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7
build_src: building npy-pkg config files
running build_ext
customize UnixCCompiler
customize UnixCCompiler using build_ext
get_default_fcompiler: matching types: '['gnu95', 'nag', 'absoft', 'ibm', 'intel', 'gnu', 'g95', 'pg']'
customize Gnu95FCompiler
Found executable /Users/xiejiahao/Workplace/usr/local/bin/gfortran
customize Gnu95FCompiler
customize Gnu95FCompiler using build_ext
building 'fbcm2' extension
compiling C sources
C compiler: gcc -fno-strict-aliasing -I/Users/xiejiahao/anaconda3/envs/py2/include -arch x86_64 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes

creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH
creating /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7
compile options: '-I/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7 -I/Users/xiejiahao/anaconda3/envs/py2/lib/python2.7/site-packages/numpy/core/include -I/Users/xiejiahao/anaconda3/envs/py2/include/python2.7 -c'
gcc: /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.c
gcc: /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fortranobject.c
dyld: Library not loaded: /usr/local/lib/libmpc.3.dylib
  Referenced from: /Users/xiejiahao/Workplace/usr/local/bin/../libexec/gcc/x86_64-apple-darwin17.5.0/8.1.0/cc1
  Reason: image not found
gcc: internal compiler error: Abort trap: 6 signal terminated program cc1
Please submit a full bug report,
with preprocessed source if appropriate.
See <https://gcc.gnu.org/bugs/> for instructions.
dyld: Library not loaded: /usr/local/lib/libmpc.3.dylib
  Referenced from: /Users/xiejiahao/Workplace/usr/local/bin/../libexec/gcc/x86_64-apple-darwin17.5.0/8.1.0/cc1
  Reason: image not found
gcc: internal compiler error: Abort trap: 6 signal terminated program cc1
Please submit a full bug report,
with preprocessed source if appropriate.
See <https://gcc.gnu.org/bugs/> for instructions.
error: Command "gcc -fno-strict-aliasing -I/Users/xiejiahao/anaconda3/envs/py2/include -arch x86_64 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7 -I/Users/xiejiahao/anaconda3/envs/py2/lib/python2.7/site-packages/numpy/core/include -I/Users/xiejiahao/anaconda3/envs/py2/include/python2.7 -c /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.c -o /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.o -MMD -MF /var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/var/folders/zc/p9l940bx3zsffsqwkdkk36d40000gn/T/tmp6gd3aH/src.macosx-10.6-x86_64-2.7/fbcm2module.o.d" failed with exit status 4
dyld: Library not loaded: /usr/local/lib/libmpc.3.dylib
  Referenced from: /Users/xiejiahao/Workplace/usr/local/bin/../libexec/gcc/x86_64-apple-darwin17.5.0/8.1.0/cc1
  Reason: image not found
gcc: internal compiler error: Abort trap: 6 signal terminated program cc1
Please submit a full bug report,
with preprocessed source if appropriate.
See <https://gcc.gnu.org/bugs/> for instructions.
dyld: Library not loaded: /usr/local/lib/libmpc.3.dylib
  Referenced from: /Users/xiejiahao/Workplace/usr/local/bin/../libexec/gcc/x86_64-apple-darwin17.5.0/8.1.0/cc1
  Reason: image not found
gcc: internal compiler error: Abort trap: 6 signal terminated program cc1
Please submit a full bug report,
with preprocessed source if appropriate.
See <https://gcc.gnu.org/bugs/> for instructions.



succsess in baode

running build
running config_cc
unifing config_cc, config, build_clib, build_ext, build commands --compiler options
running config_fc
unifing config_fc, config, build_clib, build_ext, build commands --fcompiler options
running build_src
build_src
building extension "fbcm" sources
f2py options: []
f2py:> /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.c
creating /tmp/tmpWZQxgb/src.linux-x86_64-2.7
Reading fortran codes...
	Reading file 'BCMfunc.f90' (format:free)
	Reading file 'spherical.f90' (format:free)
	Reading file 'car2sphe.f90' (format:free)
Post-processing...
	Block: fbcm
			Block: bcm
			Block: dist_bcm
			Block: spherical
			Block: car2sphe
Post-processing (stage 2)...
Building modules...
	Building module "fbcm"...
		Constructing wrapper function "bcm"...
		  q = bcm(nele,natom,tau0,lat_matrix,ele_num)
		Constructing wrapper function "dist_bcm"...
		  dist_bcm(distance,q1,q2,[nele])
		Constructing wrapper function "spherical"...
		  spherical(l,m,angle1,angle2,y)
		Constructing wrapper function "car2sphe"...
		  car2sphe(x,y,z,r,theta,psi)
	Wrote C/API module "fbcm" to file "/tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.c"
  adding '/tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.c' to sources.
  adding '/tmp/tmpWZQxgb/src.linux-x86_64-2.7' to include_dirs.
copying /share/apps/pylada/lib/python2.7/site-packages/numpy/f2py/src/fortranobject.c -> /tmp/tmpWZQxgb/src.linux-x86_64-2.7
copying /share/apps/pylada/lib/python2.7/site-packages/numpy/f2py/src/fortranobject.h -> /tmp/tmpWZQxgb/src.linux-x86_64-2.7
build_src: building npy-pkg config files
running build_ext
customize UnixCCompiler
customize UnixCCompiler using build_ext
customize Gnu95FCompiler
Found executable /usr/bin/gfortran
customize Gnu95FCompiler
customize Gnu95FCompiler using build_ext
building 'fbcm' extension
compiling C sources
C compiler: gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC

creating /tmp/tmpWZQxgb/tmp
creating /tmp/tmpWZQxgb/tmp/tmpWZQxgb
creating /tmp/tmpWZQxgb/tmp/tmpWZQxgb/src.linux-x86_64-2.7
compile options: '-I/tmp/tmpWZQxgb/src.linux-x86_64-2.7 -I/share/apps/pylada/lib/python2.7/site-packages/numpy/core/include -I/share/apps/pylada/include/python2.7 -c'
gcc: /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.c
在包含自 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/ndarraytypes.h：1804 的文件中，
                 从 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/ndarrayobject.h：17，
                 从 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/arrayobject.h：4，
                 从 /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.h：13，
                 从 /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.c：18:
/share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: 警告：#warning "Using deprecated NumPy API, disable it by " "#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION"
/tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.c:188: 警告：‘f2py_size’定义后未使用
gcc: /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.c
在包含自 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/ndarraytypes.h：1804 的文件中，
                 从 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/ndarrayobject.h：17，
                 从 /share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/arrayobject.h：4，
                 从 /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.h：13，
                 从 /tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.c：2:
/share/apps/pylada/lib/python2.7/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: 警告：#warning "Using deprecated NumPy API, disable it by " "#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION"
compiling Fortran sources
Fortran f77 compiler: /usr/bin/gfortran -Wall -g -ffixed-form -fno-second-underscore -fPIC -O3 -funroll-loops
Fortran f90 compiler: /usr/bin/gfortran -Wall -g -fno-second-underscore -fPIC -O3 -funroll-loops
Fortran fix compiler: /usr/bin/gfortran -Wall -g -ffixed-form -fno-second-underscore -Wall -g -fno-second-underscore -fPIC -O3 -funroll-loops
compile options: '-I/tmp/tmpWZQxgb/src.linux-x86_64-2.7 -I/share/apps/pylada/lib/python2.7/site-packages/numpy/core/include -I/share/apps/pylada/include/python2.7 -c'
gfortran:f90: BCMfunc.f90
BCMfunc.f90:6.52:

  integer(kind=4)             :: l, m, n, j1, j2, j3
                                                    1
警告： (1)处声明了未使用的变量‘j3’
BCMfunc.f90:11.59:

  real(kind=8)                :: rms,x,y,z,r,theta,phi,maxr,rp(400*natom),rpmin
                                                           1
警告： (1)处声明了未使用的变量‘maxr’
BCMfunc.f90:6.40:

  integer(kind=4)             :: l, m, n, j1, j2, j3
                                        1
警告： (1)处声明了未使用的变量‘n’
BCMfunc.f90:11.36:

  real(kind=8)                :: rms,x,y,z,r,theta,phi,maxr,rp(400*natom),rpmin
                                    1
警告： (1)处声明了未使用的变量‘rms’
BCMfunc.f90:10.45:

  real(kind=8)                :: eps,eps1,tmp,temp(3)
                                             1
警告： (1)处声明了未使用的变量‘tmp’
gfortran:f90: spherical.f90
spherical.f90:7.51:

real(kind=8) angle1,angle2,sina,cosa,sinb,cosb,pi,c,d,topi
                                                   1
警告： (1)处声明了未使用的变量‘c’
spherical.f90:7.46:

real(kind=8) angle1,angle2,sina,cosa,sinb,cosb,pi,c,d,topi
                                              1
警告： (1)处声明了未使用的变量‘cosb’
spherical.f90:7.53:

real(kind=8) angle1,angle2,sina,cosa,sinb,cosb,pi,c,d,topi
                                                     1
警告： (1)处声明了未使用的变量‘d’
spherical.f90:7.41:

real(kind=8) angle1,angle2,sina,cosa,sinb,cosb,pi,c,d,topi
                                         1
警告： (1)处声明了未使用的变量‘sinb’
gfortran:f90: car2sphe.f90
/usr/bin/gfortran -Wall -g -Wall -g -shared /tmp/tmpWZQxgb/tmp/tmpWZQxgb/src.linux-x86_64-2.7/fbcmmodule.o /tmp/tmpWZQxgb/tmp/tmpWZQxgb/src.linux-x86_64-2.7/fortranobject.o /tmp/tmpWZQxgb/BCMfunc.o /tmp/tmpWZQxgb/spherical.o /tmp/tmpWZQxgb/car2sphe.o -L/share/apps/pylada/lib -lpython2.7 -lgfortran -o ./fbcm.so
Removing build directory /tmp/tmpWZQxgb